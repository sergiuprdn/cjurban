<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ședințe și Proiecte Urbanism</title>
    <style>
        body {
          font-family: 'Inter', system-ui, sans-serif;
          background: #f9fafb;
          color: #111827;
          padding: 20px;
          line-height: 1.5;
        }
        h1 { font-size: 1.6rem; margin-bottom: 0.3rem; }
        .subtitle { color: #6b7280; margin-bottom: 1.5rem; }

        /* Search */
        .search-container {
          margin-bottom: 24px;
          position: relative;
        }
        .search-box {
          width: 100%;
          padding: 12px 40px 12px 14px;
          font-size: 1rem;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          background: #fff;
        }
        .search-icon {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #6b7280;
        }

        /* Stats */
        .stats {
          display: flex;
          gap: 16px;
          margin-bottom: 24px;
          flex-wrap: wrap;
        }
        .stat-card {
          flex: 1;
          min-width: 160px;
          padding: 16px;
          background: #fff;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          text-align: center;
        }
        .stat-number {
          font-size: 1.4rem;
          font-weight: 600;
          color: #2563eb;
        }
        .stat-label {
          font-size: 0.8rem;
          text-transform: uppercase;
          color: #6b7280;
        }

        /* Collapsible */
        details { margin-bottom: 12px; }
        summary {
          cursor: pointer;
          padding: 10px 14px;
          background: #fff;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-weight: 500;
        }
        .meeting, .project {
          background: #f3f4f6;
          margin: 6px 0 6px 20px;
          padding: 10px;
          border-radius: 6px;
        }
        .meeting > summary { background: #f3f4f6; border: none; }
        .project { font-size: 0.9rem; }
        .project a { color: #2563eb; text-decoration: none; }

        /* Highlight search */
        .highlight {
          background: #fde68a;
          padding: 2px 3px;
          border-radius: 3px;
        }

        .no-results {
          text-align: center;
          padding: 30px;
          background: #fff;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          color: #6b7280;
        }
    </style>
</head>
<body>
<h1>Ședințe Comisie Urbanism</h1>
<p class="subtitle">Primăria Cluj-Napoca – Portal Proiecte</p>

<!-- Search -->
<div class="search-container">
    <input type="text" id="searchInput" class="search-box" placeholder="Caută proiecte sau ședințe...">
    <span class="search-icon">🔍</span>
</div>

<!-- Stats -->
<div class="stats">
    <div class="stat-card">
        <div class="stat-number" id="totalMeetings">145</div>
        <div class="stat-label">Ședințe</div>
    </div>
    <div class="stat-card">
        <div class="stat-number" id="totalProjects">1653</div>
        <div class="stat-label">Proiecte</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">11</div>
        <div class="stat-label">Proiecte / Ședință</div>
    </div>
</div>

<!-- Latest 3 meetings (expanded) -->
<h2>Ultimele Ședințe</h2>
<details open class="meeting">
    <summary>Ședința din 15.09.2025 — 12 proiecte</summary>
    <div class="project">🏗️ Bloc locuințe Str. Plopilor 23 <a href="#">Detalii →</a></div>
    <div class="project">🏗️ Extindere spațiu comercial <a href="#">Detalii →</a></div>
</details>
<details open class="meeting">
    <summary>Ședința din 02.09.2025 — 8 proiecte</summary>
    <div class="project">🏗️ Reamenajare parc Str. Horea <a href="#">Detalii →</a></div>
</details>
<details open class="meeting">
    <summary>Ședința din 25.08.2025 — 9 proiecte</summary>
    <div class="project">🏗️ Locuințe colective pe Str. Bună Ziua <a href="#">Detalii →</a></div>
</details>

<!-- Everything else collapsed -->
<h2>Arhivă</h2>
<details>
    <summary>📅 2025 — 9 ședințe, 105 proiecte</summary>
    <details>
        <summary>August — 6 ședințe, 42 proiecte</summary>
        <details class="meeting">
            <summary>Ședința din 10.08.2025 — 7 proiecte</summary>
            <div class="project">🏗️ Modernizare clădire birouri <a href="#">Detalii →</a></div>
        </details>
    </details>
</details>
<details>
    <summary>📅 2024 — 18 ședințe, 210 proiecte</summary>
    <p style="margin-left:20px; color:#6b7280;">(expandă pentru detalii)</p>
</details>

<div id="noResults" class="no-results" style="display:none;">
    😕 Nicio potrivire. Încearcă alt cuvânt sau verifică ortografia.
</div>

<script>
    // Simple search across visible text
    const searchInput = document.getElementById('searchInput');
    const allDetails = [...document.querySelectorAll('details')];
    const noResults = document.getElementById('noResults');

    function clearHighlights(el) {
      el.innerHTML = el.textContent;
    }

    function highlight(el, term) {
      const regex = new RegExp(`(${term})`, 'gi');
      el.innerHTML = el.textContent.replace(regex, '<span class="highlight">$1</span>');
    }

    searchInput.addEventListener('input', () => {
      const term = searchInput.value.trim().toLowerCase();
      let found = false;

      allDetails.forEach(d => {
        const text = d.textContent.toLowerCase();
        if (!term || text.includes(term)) {
          d.style.display = '';
          found = true;
          d.querySelectorAll('summary').forEach(s => {
            clearHighlights(s);
            if (term) highlight(s, term);
          });
          d.querySelectorAll('.project').forEach(p => {
            clearHighlights(p);
            if (term) highlight(p, term);
          });
        } else {
          d.style.display = 'none';
        }
      });

      noResults.style.display = found ? 'none' : 'block';
    });
</script>
</body>
</html>